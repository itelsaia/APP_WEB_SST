<!-- FormHallazgo.html — Formulario Reporte de Hallazgo SST (fragmento del supervisor) -->
<!-- Se muestra/oculta dinámicamente cuando el formato seleccionado empieza con 'RH' -->
<div id="form-hallazgo-container" class="hidden space-y-4 animate-fade-in">

    <!-- ── CABECERA RH ──────────────────────────────────────────── -->
    <div class="bg-red-500/10 border border-red-500/20 rounded-xl px-4 py-3 flex items-center gap-3">
        <div class="w-10 h-10 bg-red-500/15 rounded-xl flex items-center justify-center border border-red-500/25 shrink-0">
            <span class="material-symbols-outlined text-2xl text-red-400">report_problem</span>
        </div>
        <div>
            <p class="text-sm font-black text-white tracking-tight">Reporte de Hallazgo</p>
            <p id="rh-fmt-desc" class="text-[10px] text-red-300/80 font-bold uppercase tracking-widest mt-0.5">Formato RH — Seguridad SST</p>
        </div>
    </div>

    <!-- ── EMPRESA (bloqueada desde jornada activa) ───────────────── -->
    <div>
        <label class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5">Empresa / Proyecto</label>
        <div class="px-3 py-2.5 text-sm font-medium text-slate-300 bg-white/5 border border-white/10 rounded-xl flex items-center gap-2">
            <span class="material-symbols-outlined text-base text-primary">lock</span>
            <span id="rh-empresa-nombre">—</span>
        </div>
        <input type="hidden" id="rh-empresa-valor">
    </div>

    <!-- ── UBICACIÓN ─────────────────────────────────────────────── -->
    <div>
        <label class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5">
            Ubicación del Hallazgo <span class="text-red-400">*</span>
        </label>
        <input type="text" id="rh-ubicacion" placeholder="Ej: Piso 3 · Área de soldadura"
            style="background:#1a242f; color:#f8fafc; color-scheme:dark;"
            class="w-full px-3 py-2.5 text-sm rounded-xl border border-white/10 outline-none transition-all"
            onfocus="this.style.borderColor='rgba(239,68,68,0.5)'"
            onblur="this.style.borderColor='rgba(255,255,255,0.1)'">
    </div>

    <!-- ── DESCRIPCIÓN ───────────────────────────────────────────── -->
    <div>
        <label class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5">
            Descripción del Hallazgo <span class="text-red-400">*</span>
        </label>
        <textarea id="rh-descripcion" rows="3"
            placeholder="Describa detalladamente el hallazgo encontrado..."
            style="background:#1a242f; color:#f8fafc; color-scheme:dark; resize:none;"
            class="w-full px-3 py-2.5 text-sm rounded-xl border border-white/10 outline-none transition-all"
            onfocus="this.style.borderColor='rgba(239,68,68,0.5)'"
            onblur="this.style.borderColor='rgba(255,255,255,0.1)'"></textarea>
    </div>

    <!-- ── FOTO EVIDENCIA ─────────────────────────────────────────── -->
    <div>
        <label class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5">
            Foto de Evidencia <span class="text-red-400">*</span>
        </label>
        <div class="flex items-center gap-3">
            <label class="flex-1 cursor-pointer bg-red-500/5 py-4 px-4 border border-red-500/20 border-dashed rounded-xl text-xs font-black text-red-300 hover:bg-red-500/10 flex items-center justify-center gap-2 transition-all group">
                <span class="material-symbols-outlined text-red-400 group-hover:scale-110 transition-transform">add_a_photo</span>
                <span>CAPTURAR EVIDENCIA</span>
                <input type="file" id="rh-foto" accept="image/*" capture="camera" class="hidden"
                    onchange="previewHallazgo(this)">
            </label>
            <div id="rh-preview-container"
                class="hidden h-14 w-14 rounded-xl overflow-hidden border-2 border-red-500/40 shadow-lg shrink-0">
                <img id="rh-img-preview" src="" class="h-full w-full object-cover">
            </div>
        </div>
    </div>

    <!-- ── REPORTADO A + NÚMERO WA ───────────────────────────────── -->
    <div class="grid grid-cols-2 gap-3">
        <div>
            <label class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5">Reportado A</label>
            <input type="text" id="rh-reportado-a" placeholder="Jefe de Obra"
                style="background:#1a242f; color:#f8fafc; color-scheme:dark;"
                class="w-full px-3 py-2.5 text-sm rounded-xl border border-white/10 outline-none transition-all"
                onfocus="this.style.borderColor='rgba(239,68,68,0.5)'"
                onblur="this.style.borderColor='rgba(255,255,255,0.1)'">
        </div>
        <div>
            <label class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5">WhatsApp</label>
            <div class="flex items-center gap-1.5">
                <span class="text-xs text-slate-500 font-bold shrink-0">+57</span>
                <input type="tel" id="rh-telefono" placeholder="3001234567"
                    style="background:#1a242f; color:#f8fafc; color-scheme:dark;"
                    class="flex-1 min-w-0 px-3 py-2.5 text-sm rounded-xl border border-white/10 outline-none transition-all"
                    onfocus="this.style.borderColor='rgba(239,68,68,0.5)'"
                    onblur="this.style.borderColor='rgba(255,255,255,0.1)'">
            </div>
        </div>
    </div>

    <!-- ── BOTÓN REPORTAR ─────────────────────────────────────────── -->
    <div class="pt-1">
        <button type="button" id="btn-reportar-hallazgo" onclick="reportarHallazgo()"
            class="w-full flex justify-center items-center gap-2 py-4 rounded-xl text-[11px] font-black uppercase tracking-widest transition-all active:scale-95"
            style="background:linear-gradient(135deg,#dc2626,#b91c1c); box-shadow:0 6px 20px rgba(220,38,38,0.3);">
            <span id="rh-spinner"
                class="hidden animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full shrink-0"></span>
            <span class="material-symbols-outlined text-lg shrink-0">report_problem</span>
            <span class="text-white">Reportar + Notificar WhatsApp</span>
        </button>
    </div>

    <!-- ── ENLACE PARA VOLVER AL FORMULARIO ESTÁNDAR ──────────────── -->
    <button type="button" onclick="mostrarFormularioEstandar()"
        class="w-full text-slate-600 hover:text-slate-400 text-[10px] font-bold uppercase tracking-widest py-2 transition-all flex items-center justify-center gap-1">
        <span class="material-symbols-outlined text-sm">arrow_back</span>
        Volver al formulario estándar
    </button>

</div>
